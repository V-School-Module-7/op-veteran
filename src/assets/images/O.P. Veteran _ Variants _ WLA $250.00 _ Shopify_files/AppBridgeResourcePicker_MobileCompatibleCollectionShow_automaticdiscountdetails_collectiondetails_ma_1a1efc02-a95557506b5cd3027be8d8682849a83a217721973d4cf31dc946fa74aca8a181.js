(self.webpackJsonp=self.webpackJsonp||[]).push([["AppBridgeResourcePicker~MobileCompatibleCollectionShow~automaticdiscountdetails~collectiondetails~ma~1a1efc02"],{"./app/components/ProductResourcePicker/ProductResourcePicker.tsx":function(e,n,t){"use strict";t.d(n,"a",(function(){return Se}));var a=t("./node_modules/lodash/pick.js"),i=t.n(a),s=t("./app/components/ProductResourcePicker/translations/en.json"),o=t.n(s),r=t("./node_modules/react/index.js"),l=t.n(r),d=t("./node_modules/@shopify/react-graphql/build/esnext/hooks/query.esnext"),c=t("./node_modules/@shopify/polaris/dist/esnext/components/Thumbnail/Thumbnail.tsx.esnext"),u=t("./node_modules/@shopify/polaris/dist/esnext/components/Stack/Stack.tsx.esnext"),m=t("./node_modules/@shopify/polaris/dist/esnext/components/Badge/Badge.tsx.esnext"),p=t("./packages/@shopify/polaris-next/components/PlaceholderIcon/index.tsx"),v=t("./node_modules/@shopify/react-i18n/build/esnext/hooks.esnext"),k=t("./node_modules/use-debounce/esm/useDebouncedCallback.js"),f=t("./packages/@web-utilities/graphql/query.ts"),g=t("./node_modules/@shopify/admin-graphql-api-utilities/dist/src/index.js"),y=t("./packages/@web-utilities/other/index.ts"),b=t("./app/types/graphql/core-types/ProductSortKeys.ts"),h=t("./app/types/graphql/core-types/ProductStatus.ts"),N=t("./app/types/graphql/core-types/ProductVariantInventoryManagement.ts"),S=t("./app/utilities/media/utilities.ts"),P=t("./app/components/ProductStatusBadge/ProductStatusBadge.tsx"),j=t("./app/components/ResourcePicker/types.ts"),x=t("./app/components/ResourcePicker/helpers.ts"),_=t("./app/components/ResourcePicker/ResourcePicker.tsx"),F=t("./app/components/VariantResourceItem/VariantResourceItem.tsx"),O=t("./node_modules/@shopify/network/build/esnext/network.esnext"),I=t("./node_modules/@shopify/react-hooks/build/esnext/hooks/previous.esnext"),E=t("./app/utilities/toasts/use-imperative-toast.ts");let T;!function(e){e.DraftOrders="draft_orders",e.InventoryTransfers="inventory_transfers"}(T||(T={}));const V={[O.b.ContentType]:"application/json"},B={method:O.c.Get,headers:V};function L({skip:e,source:n}){const[t]=Object(v.a)(),a=Object(E.a)(),i=Object(r.useRef)(""),s=Object(r.useRef)(""),o=Object(r.useRef)(null),[l,d]=Object(r.useState)(!1),c=Object(r.useRef)(null),[u,m]=Object(r.useState)(null),p=Object(I.a)(!e);Object(r.useEffect)((()=>{p&&e&&(c.current=null,i.current="",s.current="",o.current=null,d(!1),m(null))}),[e,p]);const k=Object(r.useCallback)((async(e,r)=>{if(c.current&&e===i.current&&r===s.current&&!o.current)return;const l=Boolean(c.current&&e===i.current&&r===s.current&&o.current);e===i.current&&r===s.current||(c.current=null,s.current=r,i.current=e,o.current=null),d(!0);const u=new URLSearchParams({limit:"50",type:"variant",query:e,collection:r,offset:o.current?o.current:"0",source:n}).toString();try{const e=await fetch(`/admin/product_browser/resources.json?${u}`,B),n=await e.json();if(n.results){var p;const e=(null===(p=n.next_page_params)||void 0===p?void 0:p.offset)||null;let t;t=l?[...c.current,...n.results]:n.results,v=t,k=e,c.current=v,o.current=k,m(t.map((e=>{const{id:n,image_alt:t,image_url:a,is_default:i,status:s,title:o,tracks_inventory:r,variants:l}=e,d=function(e){return"active"===e?h.a.Active:"archived"===e?h.a.Archived:h.a.Draft}(s),c=a?{id:"",altText:t,transformedSrc:`https:${a}`}:null,u=l.map((({id:e,inventory_quantity:n,price:t,title:a,option1:i=a,option2:s,option3:r,inventory_management:l})=>{const d=[{value:i}];return s&&d.push({value:s}),r&&d.push({value:r}),{node:{id:Object(g.composeGid)("ProductVariant",e),inventoryQuantity:null!=n?n:null,inventoryManagement:C(l),price:t,displayName:`${o} - ${a}`,title:a,selectedOptions:d}}}));return{id:Object(g.composeGid)("Product",n),title:o,status:d,featuredImage:c,featuredMedia:null,images:{edges:c?[{node:{...c,originalSrc:`https:${a}`}}]:[]},hasOnlyDefaultVariant:i,tracksInventory:r,variants:{edges:u}}})))}else a({content:t.translate("Common.serverError"),error:!0})}catch(f){a({content:t.translate("Common.serverError"),error:!0})}finally{d(!1)}var v,k}),[t,a,n]);return e?{}:{data:u,loading:l,fetchProducts:k}}function C(e){return"shopify"===e?N.a.Shopify:null!=e?N.a.FulfillmentService:N.a.NotManaged}var R=t("./node_modules/@shopify/polaris/dist/esnext/components/Button/Button.tsx.esnext"),A=t("./node_modules/@shopify/polaris-icons/dist/icons/ArrowLeftMinor.svg.mjs"),D="_3HgMv",w="_16n4F",Q="_3fRv9";function $({action:e,title:n}){return l.a.createElement("div",{className:D},l.a.createElement("div",{className:w},l.a.createElement(R.a,{accessibilityLabel:e.accessibilityLabel,plain:!0,icon:A.a,onClick:e.onAction})),l.a.createElement("span",{className:Q},n))}var M=t("./app/components/ResourcePicker/components/LoadingState/LoadingState.tsx"),q=t("./node_modules/@shopify/polaris/dist/esnext/components/TextStyle/TextStyle.tsx.esnext"),z=t("./node_modules/@shopify/polaris/dist/esnext/components/Icon/Icon.tsx.esnext"),U=t("./node_modules/@shopify/polaris/dist/esnext/components/Scrollable/Scrollable.tsx.esnext"),W=t("./node_modules/@shopify/polaris-icons/dist/icons/ChevronRightMinor.svg.mjs"),K=t("./packages/@shopify/polaris-next/components/ListBox/ListBox.tsx"),G="_2okeM",H="_1uuDe",J="_2posz",Y="_3d2Zo",Z="_3CHlx",X="_3Y1j9";function ee({onFilterSelect:e,filters:n,accessibilityLabel:t,onScrolledToBottom:a,loadingMore:i,loadingMoreLabel:s}){const[o]=Object(v.a)();if(0===n.length)return l.a.createElement("p",{className:H},l.a.createElement(q.a,{variation:"subdued"},o.translate("ProductResourcePicker.noResultsFound")));const r=n.map((({name:e,id:n})=>l.a.createElement(K.a.Option,{accessibilityLabel:e,key:n,value:n},l.a.createElement("div",{className:J},l.a.createElement("div",{className:Y},l.a.createElement("div",{className:Z},e),l.a.createElement("div",{className:X},l.a.createElement(z.a,{source:W.a}))))))),d=i?l.a.createElement(K.a.Loading,{accessibilityLabel:s}):null;return l.a.createElement(U.a,{shadow:!0,className:G,onScrolledToBottom:a},l.a.createElement(K.a,{accessibilityLabel:t,onSelect:t=>{const a=n.find((e=>e.id===t));a&&e(a)}},r,d))}var ne=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ProductPickerCollectionsQuery"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"first"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"last"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"query"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"after"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"before"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"collections"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"first"},"value":{"kind":"Variable","name":{"kind":"Name","value":"first"}}},{"kind":"Argument","name":{"kind":"Name","value":"last"},"value":{"kind":"Variable","name":{"kind":"Name","value":"last"}}},{"kind":"Argument","name":{"kind":"Name","value":"query"},"value":{"kind":"Variable","name":{"kind":"Name","value":"query"}}},{"kind":"Argument","name":{"kind":"Name","value":"after"},"value":{"kind":"Variable","name":{"kind":"Name","value":"after"}}},{"kind":"Argument","name":{"kind":"Name","value":"before"},"value":{"kind":"Variable","name":{"kind":"Name","value":"before"}}},{"kind":"Argument","name":{"kind":"Name","value":"sortKey"},"value":{"kind":"EnumValue","value":"TITLE"}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"edges"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"cursor"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"node"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"title"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"productsCount"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"pageInfo"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"hasNextPage"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"hasPreviousPage"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":317,"source":{"body":"query ProductPickerCollectionsQuery($first:Int!,$last:Int,$query:String,$after:String,$before:String){collections(first:$first,last:$last,query:$query,after:$after,before:$before,sortKey:TITLE){edges{cursor node{id title productsCount __typename}__typename}pageInfo{hasNextPage hasPreviousPage __typename}__typename}}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"d64aec5f157b6ed2dd663f1d4b9a8a6bdce60cdb4a40fc101892bc8835062ad5"}');function te({onCollectionSelect:e,searchQuery:n}){const[t]=Object(v.a)(),{data:a,fetchMore:i,loading:s}=Object(d.a)(ne,{variables:{query:n,first:f.a},fetchPolicy:"cache-and-network"});if(!a&&s)return l.a.createElement(M.a,null);const o=a&&Object(f.p)(a.collections.edges).map((({title:e,id:n})=>({name:e,id:n})))||[];return l.a.createElement(ee,{filters:o,onScrolledToBottom:async()=>{var e,t;if(s||null==a||null===(e=a.collections)||void 0===e||null===(t=e.pageInfo)||void 0===t||!t.hasNextPage)return;const{collections:o}=a,{edges:r}=o;if(r&&0===r.length)return;const{cursor:l}=r[r.length-1];await i({variables:{query:n,first:f.a,after:l},updateQuery({collections:{edges:e}},{fetchMoreResult:n}){const t=n&&n.collections;return t?{collections:{...t,edges:[...e,...t.edges]}}:a}})},onFilterSelect:e,loadingMore:s,loadingMoreLabel:t.translate("ProductResourcePicker.loadingMoreCollections")})}var ae=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ProductPickerProductTypesQuery"},"variableDefinitions":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"shop"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"allProductTypes"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":73,"source":{"body":"query ProductPickerProductTypesQuery{shop{id allProductTypes __typename}}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"339390567613ff59e101094d86dfd6689a7e59b12985600aea8f9d76e6b3877e"}');function ie({onProductTypeSelect:e,searchQuery:n=""}){const{data:t,loading:a}=Object(d.a)(ae,{fetchPolicy:"cache-and-network"});if(a)return l.a.createElement(M.a,null);const i=(null==t?void 0:t.shop.allProductTypes.filter((e=>e.toLowerCase().includes(n.toLowerCase()))).map((e=>({name:e,id:e}))))||[];return l.a.createElement(ee,{filters:i,onFilterSelect:e})}var se=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ProductPickerTagsQuery"},"variableDefinitions":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"shop"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"allProductTags"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":64,"source":{"body":"query ProductPickerTagsQuery{shop{id allProductTags __typename}}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"f846a9422017f7461d21e38737b14999d7e1ea1ba9dee83e62000ef081746f0a"}');function oe({onTagSelect:e,searchQuery:n=""}){const{data:t,loading:a}=Object(d.a)(se,{fetchPolicy:"cache-and-network"});if(a)return l.a.createElement(M.a,null);const i=t&&t.shop.allProductTags.filter((e=>e.toLowerCase().includes(n.toLowerCase()))).map((e=>({name:e,id:e})))||[];return l.a.createElement(ee,{filters:i,onFilterSelect:e})}var re=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ProductPickerVendorsQuery"},"variableDefinitions":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"shop"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"allProductVendors"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}}],"loc":{"start":0,"end":70,"source":{"body":"query ProductPickerVendorsQuery{shop{id allProductVendors __typename}}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"624decff246abc55de9ce076a0b76b5f28982681c85a3dc202ea638862ad9757"}');function le({onVendorSelect:e,searchQuery:n=""}){const{data:t,loading:a}=Object(d.a)(re,{fetchPolicy:"cache-and-network"});if(a)return l.a.createElement(M.a,null);const i=t&&t.shop.allProductVendors.filter((e=>e.toLowerCase().includes(n.toLowerCase()))).map((e=>({name:e,id:e})))||[];return l.a.createElement(ee,{filters:i,onFilterSelect:e})}var de="_2aWXN",ce="_2-kOS",ue="pFr5E",me="_35ZW9",pe="_21fdW",ve="b7kUW",ke="_1eZWN",fe="_3nVw2",ge="_2hYKD",ye="_1i0PQ",be=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ProductResourcePicker"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"first"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"Int"}}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"searchQuery"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"defaultValue":{"kind":"StringValue","value":"","block":false},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"after"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"String"}},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"selectProductsInCollectionId"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"ID"}},"defaultValue":{"kind":"StringValue","value":"gid://shopify/Collection/0","block":false},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"fetchInCollectionField"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Boolean"}},"defaultValue":{"kind":"BooleanValue","value":false},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"hasPublicationId"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Boolean"}},"defaultValue":{"kind":"BooleanValue","value":false},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"publicationId"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"ID"}},"defaultValue":{"kind":"StringValue","value":"gid://shopify/Publication/0","block":false},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"useLocationQuantity"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Boolean"}},"defaultValue":{"kind":"BooleanValue","value":false},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"ID"}},"defaultValue":{"kind":"StringValue","value":"gid://shopify/Location/0","block":false},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"sortKey"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"ProductSortKeys"}},"defaultValue":{"kind":"EnumValue","value":"TITLE"},"directives":[]},{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"variantSelectionOnly"}},"type":{"kind":"NamedType","name":{"kind":"Name","value":"Boolean"}},"defaultValue":{"kind":"BooleanValue","value":false},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"shop"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"features"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"richMedia"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"products"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"first"},"value":{"kind":"Variable","name":{"kind":"Name","value":"first"}}},{"kind":"Argument","name":{"kind":"Name","value":"query"},"value":{"kind":"Variable","name":{"kind":"Name","value":"searchQuery"}}},{"kind":"Argument","name":{"kind":"Name","value":"after"},"value":{"kind":"Variable","name":{"kind":"Name","value":"after"}}},{"kind":"Argument","name":{"kind":"Name","value":"sortKey"},"value":{"kind":"Variable","name":{"kind":"Name","value":"sortKey"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"edges"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"cursor"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"node"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"FragmentSpread","name":{"kind":"Name","value":"ProductResourceDisplay"},"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"hasOnlyDefaultVariant"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"tracksInventory"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"inCollection"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"id"},"value":{"kind":"Variable","name":{"kind":"Name","value":"selectProductsInCollectionId"}}}],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"include"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"if"},"value":{"kind":"Variable","name":{"kind":"Name","value":"fetchInCollectionField"}}}]}]},{"kind":"Field","name":{"kind":"Name","value":"publishedOnPublication"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"publicationId"},"value":{"kind":"Variable","name":{"kind":"Name","value":"publicationId"}}}],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"include"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"if"},"value":{"kind":"Variable","name":{"kind":"Name","value":"hasPublicationId"}}}]}]},{"kind":"Field","name":{"kind":"Name","value":"variants"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"first"},"value":{"kind":"IntValue","value":"100"}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"edges"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"node"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"inventoryQuantity"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"inventoryManagement"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"price"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"displayName"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"title"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"sku"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"selectedOptions"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"value"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"image"},"arguments":[],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"include"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"if"},"value":{"kind":"Variable","name":{"kind":"Name","value":"variantSelectionOnly"}}}]}],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"altText"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"transformedSrc"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"maxWidth"},"value":{"kind":"IntValue","value":"100"}},{"kind":"Argument","name":{"kind":"Name","value":"maxHeight"},"value":{"kind":"IntValue","value":"100"}}],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"inventoryItem"},"arguments":[],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"include"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"if"},"value":{"kind":"Variable","name":{"kind":"Name","value":"useLocationQuantity"}}}]}],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"inventoryLevel"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"locationId"},"value":{"kind":"Variable","name":{"kind":"Name","value":"locationId"}}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"available"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"requiresShipping"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"pageInfo"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"hasNextPage"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}]}},{"kind":"FragmentDefinition","name":{"kind":"Name","value":"ProductResourceDisplay"},"typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"Product"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"title"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"status"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"featuredImage"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"altText"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"transformedSrc"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"maxWidth"},"value":{"kind":"IntValue","value":"200"}},{"kind":"Argument","name":{"kind":"Name","value":"maxHeight"},"value":{"kind":"IntValue","value":"200"}}],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"featuredMedia"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"InlineFragment","typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"MediaImage"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"InlineFragment","typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"Video"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"InlineFragment","typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"Model3d"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"InlineFragment","typeCondition":{"kind":"NamedType","name":{"kind":"Name","value":"ExternalVideo"}},"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"preview"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"image"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"transformedSrc"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"maxHeight"},"value":{"kind":"IntValue","value":"200"}},{"kind":"Argument","name":{"kind":"Name","value":"maxWidth"},"value":{"kind":"IntValue","value":"200"}}],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"alt"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"images"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"first"},"value":{"kind":"IntValue","value":"1"}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"edges"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"node"},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"altText"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"originalSrc"},"arguments":[],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"transformedSrc"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"maxWidth"},"value":{"kind":"IntValue","value":"200"}},{"kind":"Argument","name":{"kind":"Name","value":"maxHeight"},"value":{"kind":"IntValue","value":"200"}}],"directives":[]},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}},{"kind":"Field","name":{"kind":"Name","value":"__typename"},"arguments":[],"directives":[]}]}}],"loc":{"start":0,"end":1768,"source":{"body":"query ProductResourcePicker($first:Int!,$searchQuery:String = \\"\\",$after:String,$selectProductsInCollectionId:ID = \\"gid://shopify/Collection/0\\",$fetchInCollectionField:Boolean = false,$hasPublicationId:Boolean = false,$publicationId:ID = \\"gid://shopify/Publication/0\\",$useLocationQuantity:Boolean = false,$locationId:ID = \\"gid://shopify/Location/0\\",$sortKey:ProductSortKeys = TITLE,$variantSelectionOnly:Boolean = false){shop{id features{richMedia __typename}__typename}products(first:$first,query:$searchQuery,after:$after,sortKey:$sortKey){edges{cursor node{...ProductResourceDisplay hasOnlyDefaultVariant tracksInventory inCollection(id:$selectProductsInCollectionId)@include(if:$fetchInCollectionField)publishedOnPublication(publicationId:$publicationId)@include(if:$hasPublicationId)variants(first:100){edges{node{id inventoryQuantity inventoryManagement price displayName title sku selectedOptions{value __typename}image @include(if:$variantSelectionOnly){id altText transformedSrc(maxWidth:100,maxHeight:100)__typename}inventoryItem @include(if:$useLocationQuantity){id inventoryLevel(locationId:$locationId){id available __typename}requiresShipping __typename}__typename}__typename}__typename}__typename}__typename}pageInfo{hasNextPage __typename}__typename}}fragment ProductResourceDisplay on Product{id title status featuredImage{id altText transformedSrc(maxWidth:200,maxHeight:200)__typename}featuredMedia{...on MediaImage{id __typename}...on Video{id __typename}...on Model3d{id __typename}...on ExternalVideo{id __typename}preview{image{id transformedSrc(maxHeight:200,maxWidth:200)__typename}__typename}alt __typename}images(first:1){edges{node{id altText originalSrc transformedSrc(maxWidth:200,maxHeight:200)__typename}__typename}__typename}__typename}","name":"GraphQL request","locationOffset":{"line":1,"column":1}}},"id":"55a58265a762564c36e6f1f61e2323ebed97373f4584b8a48cd06ed419e85ff6"}');function he(){return(he=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}let Ne;!function(e){e.AllProducts="allProducts",e.Collections="collections",e.PopularProducts="popularProducts",e.ProductTypes="productTypes",e.Tags="tags",e.Vendors="vendors"}(Ne||(Ne={}));function Se({open:e,initialSearchQuery:n,enableShowSelectedVariantsAction:a,defaultQueryParts:s,disableDefaultSelection:O,fetchProductsInCollectionSource:I=T.DraftOrders,selectedProductVariants:E,selectedProductText:V,disableAutomaticSelection:B,onSelectedProductVariantsUpdate:C,onSelectedProductsChange:R,onClose:A,showVariants:D,filterVariantsForMatchingSku:w,restrictSelectionToLocationId:Q,enableFilters:M,selectProductsInCollectionId:q,selectLimit:z,title:U,persistSelectionThroughSearch:W,primaryActionLabel:K,publicationId:G,showDraft:H=!0,showDraftBadge:J=!1,showArchived:Y=!0,showArchivedBadge:Z=!1,variantSelectionOnly:X=!1}){const[ne,ae]=Object(v.a)({id:"ProductResourcePicker_ow23mv",fallback:o.a,translations(e){if(!(["cs","da","de","es","fi","fr","it","ja","ko","nb","nl","pl","pt-BR","pt-PT","sv","th","tr","vi","zh-CN","zh-TW"].indexOf(e)<0))return(async()=>{const n=await t("./app/components/ProductResourcePicker/translations lazy-once recursive ^\\.\\/.*\\.json$")(`./${e}.json`);return n&&n.default})()}}),[se,re]=Object(r.useState)(n||""),[Se,Ee]=Object(r.useState)(!1),[Te,Ve]=Object(r.useState)([]),[Be,Le]=Object(r.useState)(!1),[Ce,Re]=Object(r.useState)(),[Ae,De]=Object(r.useState)(),[we,Qe]=Object(r.useState)(n||""),[$e,Me]=Object(r.useState)(!1),qe=Object(r.useRef)(new Map),ze=Object(r.useCallback)((e=>{const n=W?[...qe.current.values(),...e]:[...e],t=new Map;n.forEach((e=>{const{id:n}=e;t.set(n,e)})),qe.current=t}),[W]),[Ue]=Object(k.a)((e=>{re(e)}),300,{leading:!0}),We=Object(r.useCallback)((e=>{Qe(e),$e!==j.a.Search&&Me(j.a.Search),Ue(e)}),[Ue,$e]),Ke=Object(r.useMemo)((()=>[{id:Ne.AllProducts,name:ne.translate("ProductResourcePicker.productFilters.allProducts")},{id:Ne.PopularProducts,name:ne.translate("ProductResourcePicker.productFilters.popularProducts")},{id:Ne.Collections,name:ne.translate("ProductResourcePicker.productFilters.collections")},{id:Ne.ProductTypes,name:ne.translate("ProductResourcePicker.productFilters.productTypes")},{id:Ne.Tags,name:ne.translate("ProductResourcePicker.productFilters.tags")},{id:Ne.Vendors,name:ne.translate("ProductResourcePicker.productFilters.vendors")}]),[ne]),{data:Ge,loading:He,fetchProducts:Je}=L({skip:!Se,source:I});Object(r.useEffect)((()=>{const e=(null==Ce?void 0:Ce.id)&&(null==Ce?void 0:Ce.id)===Ne.Collections&&Ae;e&&!Se?Ee(!0):!e&&Se&&Ee(!1)}),[Ce,Ae,Se,Ee]),Object(r.useEffect)((()=>{Se&&Je&&Ae&&Ae.id&&Je(se,Object(g.parseGid)(Ae.id))}),[Ae,Je,se,Se]);const Ye=Object(r.useCallback)((e=>{Ve((()=>e)),0===e.length&&Be&&Le(!1)}),[Be]),Ze=Object(r.useCallback)(((e,n)=>{const t=new Set([...Te]);je(e).forEach((e=>{n?t.add(e.id):t.delete(e.id)})),Ye([...t])}),[Te,Ye]),Xe=Object(r.useCallback)(((e,n)=>{const t=new Set([...Te]);n?t.add(e.id):t.delete(e.id),Ye([...t])}),[Te,Ye]),en=a?{onAction:()=>Le(!0),content:ne.translate("ProductResourcePicker.selectedVariantsCount",{count:Te.length,variant:1===Te.length?ne.translate("ProductResourcePicker.variant.one"):ne.translate("ProductResourcePicker.variant.other")}),disabled:0===Te.length||Be}:void 0,nn=Be||M&&(!Ce||Pe(Ce)&&!Ae||(null==Ce?void 0:Ce.id)===Ne.Collections);M&&se&&!Ce&&Re(Ke.find((e=>e.id===Ne.AllProducts)));const tn=(null==Ce?void 0:Ce.id)===Ne.PopularProducts?b.a.BestSelling:b.a.Title,an=(null==Ce?void 0:Ce.id)===Ne.Vendors&&Ae?{vendor:Ae.name}:null,sn=(null==Ce?void 0:Ce.id)===Ne.Tags&&Ae?{tag:Ae.name}:null,on=(null==Ce?void 0:Ce.id)===Ne.ProductTypes&&Ae?{product_type:Ae.name}:null,rn=H&&Y?null:{status:`${h.a.Active}${H?`,${h.a.Draft}`:""}${Y?`,${h.a.Archived}`:""}`},{data:ln,loading:dn,fetchMore:cn}=Object(d.a)(be,{notifyOnNetworkStatusChange:!0,variables:{first:y.a,searchQuery:x.a.generateGraphqlSearchQuery(se,{...s,...rn,...an,...sn,...on}),fetchInCollectionField:void 0!==q,selectProductsInCollectionId:q,hasPublicationId:Boolean(G),publicationId:G,useLocationQuantity:Boolean(Q),locationId:Q,sortKey:tn,variantSelectionOnly:X},fetchPolicy:"network-only",skip:nn});Object(r.useEffect)((()=>{e&&(Qe(n||""),re(n||""),Ve([]))}),[e,n]);const un=Object(r.useCallback)((()=>{M&&(Re(void 0),De(void 0)),Be&&Le(!1),A()}),[M,A,Be]),mn=Object(r.useCallback)(((e,n)=>{if(!C)return;const t=E,a=[...qe.current.values()].reduce(((t,a)=>{if(!e.includes(a.id))return t;const{id:s,title:o,images:r,featuredImage:l,featuredMedia:d,hasOnlyDefaultVariant:c}=a,u=Object(f.p)(r.edges),m=je(a),p=m.filter((e=>1===m.length||0===n.length||n.includes(e.id))),v={id:s,title:o,hasOnlyDefaultVariant:c,imageUrl:u.length>0?u[0].transformedSrc:void 0,images:u.length>0?u.map((({id:e,altText:n,originalSrc:t,transformedSrc:a})=>({id:e,altText:n,src:t,originalSrc:t,thumbnail:a}))):void 0,featuredImage:l,featuredMedia:d,variants:p.length>0?p.map((e=>i()(e,"id","title"))):void 0,selectAllVariants:m.length===p.length,totalVariants:m.length};return t.push(v),t}),[]);B||t.forEach((e=>{const{id:n}=e;qe.current.has(n)||a.push(e)})),C(a,B)}),[C,E,B]),pn=Object(r.useCallback)((()=>{se&&re(""),we&&Qe(""),Be&&Le(!1),Ae?De(void 0):Ce&&Re(void 0)}),[se,we,Ae,Ce,Be]),vn=Object(r.useCallback)((()=>{if(!(M&&Ce||Be))return U;let e="";Be?e=ne.translate("ProductResourcePicker.selectedProducts"):Ae?e=Ae.name:Ce&&(e=Ce.name);const n={accessibilityLabel:ne.translate("ProductResourcePicker.backAction",{previousFilter:ne.translate("ProductResourcePicker.previousFilterTopLevel")}),onAction:pn};return l.a.createElement($,{title:e,action:n})}),[M,pn,ne,Ce,Ae,Be,U]),kn=Object(r.useCallback)((()=>{if(Ce&&!Ae){const e=Ce.id;return ne.translationKeyExists(`ProductResourcePicker.searchQueryFieldLabel.${e}`)?ne.translate(e,{scope:"ProductResourcePicker.searchQueryFieldLabel"}):void 0}}),[ne,Ce,Ae]),fn=Object(r.useCallback)((e=>{Ce?De(e):Re(e),Me(j.a.Refetch)}),[Ce]),gn=Object(r.useCallback)((()=>{if(Be||!M||Ae||Ce&&!Pe(Ce)||Ce&&Pe(Ce)&&Ae)return;let e;switch(null==Ce?void 0:Ce.id){case Ne.Collections:e=l.a.createElement(te,{onCollectionSelect:fn,searchQuery:se});break;case Ne.ProductTypes:e=l.a.createElement(ie,{onProductTypeSelect:fn,searchQuery:se});break;case Ne.Tags:e=l.a.createElement(oe,{onTagSelect:fn,searchQuery:se});break;case Ne.Vendors:e=l.a.createElement(le,{onVendorSelect:fn,searchQuery:se});break;default:e=l.a.createElement(ee,{onFilterSelect:fn,filters:Ke,accessibilityLabel:ne.translate("ProductResourcePicker.FilterList.accessibilityLabel")})}return e}),[M,Ce,Ae,fn,Ke,ne,se,Be]),yn=(null==ln?void 0:ln.products)&&Object(f.p)(ln.products.edges);let bn;bn=Be?[...qe.current.values()].reduce(((e,n)=>{const t=n.variants.edges.filter((({node:e})=>Te.includes(e.id)));return t.length>0?[...e,{...n,variants:{edges:t}}]:e}),[]):Se?Ge||void 0:""!==se&&D&&w&&yn?function(e,n){const t=[];return e.forEach((e=>{const a=function(e,n){const t=n.toLowerCase().replace(/['"]+/g,""),a=e.variants.edges.filter((({node:e})=>Boolean(e.sku&&e.sku.toLowerCase()===t)));if(a.length>0)return{...e.variants,edges:a};return}(e,n);a&&a.edges.length>0&&t.push({...e,variants:{...a}})})),t.length>0?t:e}(yn,se):yn,bn&&!Be&&ze(bn);const{selectedProductIds:hn,selectedVariantIds:Nn}=Object(r.useMemo)((()=>{const e=new Set,n=new Set;return bn&&q&&bn.forEach((n=>{Ie(n,Se)&&n.inCollection&&e.add(n.id)})),E.forEach((t=>{t.id&&e.add(t.id);(function({id:e,selectAllVariants:n,variants:t}){if(n&&qe.current){const n=qe.current.get(e);if(n)return Object(f.p)(n.variants.edges)}return t||[]})(t).forEach((({id:e})=>n.add(e)))})),{selectedProductIds:Array.from(e),selectedVariantIds:Array.from(n)}}),[q,E,bn,Se]);!O&&Nn.length>0&&0===Te.length&&a&&Ve(Nn);const{disabledProductIds:Sn,disabledVariantIds:Pn}=Object(r.useMemo)((()=>{if(!Q||!bn)return{disabledProductIds:[],disabledVariantIds:[]};const e=new Set,n=new Set,t=e=>{var n,t;return Oe(e,Se)&&(null===(n=e.inventoryItem)||void 0===n?void 0:n.requiresShipping)&&!(null!==(t=e.inventoryItem)&&void 0!==t&&t.inventoryLevel)};return bn.forEach((a=>{const i=je(a);if(D){const s=i.filter(t);s.forEach((({id:e})=>n.add(e))),s.length===i.length&&e.add(a.id)}else i.some(t)&&e.add(a.id)})),{disabledProductIds:Array.from(e),disabledVariantIds:Array.from(n)}}),[bn,Q,D,Se]),jn=Object(r.useCallback)(((e,n)=>{var t,a,i,s;const{id:o,title:r,status:d,featuredImage:v,featuredMedia:k,variants:g,tracksInventory:y}=e,b=Ie(e,Se)?e.publishedOnPublication:void 0,N=Object(f.p)(g.edges),j=1===N.length&&e.hasOnlyDefaultVariant,[x]=N,{inventoryQuantity:_,price:F}=x,O=Q&&Oe(x,Se)?null==x||null===(t=x.inventoryItem)||void 0===t||null===(a=t.inventoryLevel)||void 0===a?void 0:a.available:_,I=y&&null!=O,E=D&&j&&l.a.createElement("div",{className:pe},I&&l.a.createElement("span",{className:ve},ne.translate("Admin.ProductResourcePicker.inventoryQuantity",{inventoryQuantity:O})),l.a.createElement("span",{className:ke},ne.formatCurrency(Number(F)))),T=Boolean(null==ln||null===(i=ln.shop)||void 0===i||null===(s=i.features)||void 0===s?void 0:s.richMedia),V=Object(S.a)({richMediaEnabled:T,featuredImage:v,featuredMedia:k}),B=V.transformedSrc?l.a.createElement(c.a,{source:V.transformedSrc,alt:V.altText||r,size:"small"}):l.a.createElement(p.a,{size:"small"}),L=l.a.createElement("span",null,r),C=(()=>{if(Q)return Sn.includes(o)?ne.translate("Admin.ProductResourcePicker.productPickupUnavailable"):N.some((({id:e})=>Pn.includes(e)))?ne.translate("Admin.ProductResourcePicker.variantPickupUnavailable"):void 0})(),R=C&&l.a.createElement("p",{className:ye},C),A=!1===b?l.a.createElement(u.a,{alignment:"center"},L,l.a.createElement(m.a,null,ne.translate("Admin.ResourcePicker.unavailable"))):l.a.createElement(l.a.Fragment,null,L,R),w=J&&d===h.a.Draft,$=Z&&d===h.a.Archived,M=w||$?l.a.createElement(u.a,{vertical:!0,spacing:"extraTight"},A,l.a.createElement("div",{className:fe},l.a.createElement(P.a,{productStatus:d}))):A,q=n?l.a.createElement("div",{className:ye},l.a.createElement("p",null,n)):null;return l.a.createElement("div",{className:de},l.a.createElement("div",{className:ce},B),l.a.createElement("div",{className:ge},l.a.createElement("div",{className:ue},l.a.createElement("div",{className:me},M),E),q))}),[ln,ne,D,J,Z,Q,Sn,Pn,Se]);if(!e)return null;!dn&&!He||$e?dn||He||!$e||Me(!1):Me(j.a.InitialFetch);const xn=M&&Ce||Be?vn():U,_n=D?{renderChild:(e,n)=>function(e,n,t){const{inventoryManagement:a}=e,i=a===N.a.NotManaged;return l.a.createElement(F.a,{variant:e,hideImage:n,hideInventoryQuantity:i,selectedVariantText:t})}(e,!X,n),defaultSelectedChildIds:Nn,getChildrenForItem:function(e){const n=je(e);if(1===n.length&&e.hasOnlyDefaultVariant)return[];return n}}:{},Fn=Boolean(W&&!a)||!1;const On=X?{singular:ne.translate("ProductResourcePicker.variant.one"),plural:ne.translate("ProductResourcePicker.variant.other")}:{singular:ne.translate("Admin.ProductResourcePicker.products.singular"),plural:ne.translate("Admin.ProductResourcePicker.products.plural")};return l.a.createElement(ae,null,l.a.createElement(_.b,he({open:e,customFooterAction:en,disableSearch:Be,loading:$e,resourcesName:On,resources:bn||[],renderPage:gn,searchQuery:we,searchQueryFieldLabel:kn(),disabledResourceIds:Sn,disabledChildIds:Pn,defaultSelectedIds:hn,disableDefaultSelection:O,selectLimit:z,renderItem:jn,getResourceIdentifier:xe,getRootResourceAccessibilityLabel:_e,getChildResourceAccessibilityLabel:Fe,onSearchQueryChange:We,selectedResourceText:V,disableAutomaticSelection:B,onSelectionUpdate:mn,onLoadMoreResources:Se?()=>{Je&&Je(se,Object(g.parseGid)((null==Ae?void 0:Ae.id)||""))}:async()=>{var e,n;if(dn||null==ln||null===(e=ln.products)||void 0===e||null===(n=e.pageInfo)||void 0===n||!n.hasNextPage)return;const{products:t}=ln,{edges:a}=t;if(a&&0===a.length)return;const{cursor:i}=a[a.length-1];$e!==j.a.FetchMore&&Me(j.a.FetchMore),await cn({variables:{first:y.a,searchQuery:x.a.generateGraphqlSearchQuery(se,{...s,...rn,...an,...sn,...on}),after:i,fetchInCollectionField:void 0!==q,selectProductsInCollectionId:q,useLocationQuantity:Boolean(Q),locationId:Q},updateQuery({products:{edges:e}},{fetchMoreResult:n}){const t=n&&n.shop,a=n&&n.products;return t&&a?{shop:{...t},products:{...a,edges:[...e,...a.edges]}}:ln}})},onClose:un},_n,{onSelectionChange:R,displaySelectedCount:Fn,title:xn,primaryActionLabel:K,onToggleResourceSelected:Ze,onToggleChildResourceSelected:Xe,childSelectionOnly:X})))}function Pe(e){return Boolean(e.id!==Ne.AllProducts&&e.id!==Ne.PopularProducts)}function je(e){return Object(f.p)(e.variants.edges)}function xe({id:e}){return e}function _e({title:e}){return e}function Fe({displayName:e}){return e}function Oe(e,n){return Boolean(e&&!n)}function Ie(e,n){return Boolean(e&&!n)}},"./app/components/ProductResourcePicker/translations lazy-once recursive ^\\.\\/.*\\.json$":function(e,n,t){var a={"./cs.json":"./app/components/ProductResourcePicker/translations/cs.json","./da.json":"./app/components/ProductResourcePicker/translations/da.json","./de.json":"./app/components/ProductResourcePicker/translations/de.json","./en.json":"./app/components/ProductResourcePicker/translations/en.json","./es.json":"./app/components/ProductResourcePicker/translations/es.json","./fi.json":"./app/components/ProductResourcePicker/translations/fi.json","./fr.json":"./app/components/ProductResourcePicker/translations/fr.json","./it.json":"./app/components/ProductResourcePicker/translations/it.json","./ja.json":"./app/components/ProductResourcePicker/translations/ja.json","./ko.json":"./app/components/ProductResourcePicker/translations/ko.json","./nb.json":"./app/components/ProductResourcePicker/translations/nb.json","./nl.json":"./app/components/ProductResourcePicker/translations/nl.json","./pl.json":"./app/components/ProductResourcePicker/translations/pl.json","./pt-BR.json":"./app/components/ProductResourcePicker/translations/pt-BR.json","./pt-PT.json":"./app/components/ProductResourcePicker/translations/pt-PT.json","./sv.json":"./app/components/ProductResourcePicker/translations/sv.json","./th.json":"./app/components/ProductResourcePicker/translations/th.json","./tr.json":"./app/components/ProductResourcePicker/translations/tr.json","./vi.json":"./app/components/ProductResourcePicker/translations/vi.json","./zh-CN.json":"./app/components/ProductResourcePicker/translations/zh-CN.json","./zh-TW.json":"./app/components/ProductResourcePicker/translations/zh-TW.json"};function i(e){return s(e).then((function(e){return t.t(e,7)}))}function s(e){return t.e("ProductResourcePicker_ow23mv-i18n").then((function(){if(!t.o(a,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return a[e]}))}i.keys=function(){return Object.keys(a)},i.resolve=s,i.id="./app/components/ProductResourcePicker/translations lazy-once recursive ^\\.\\/.*\\.json$",e.exports=i},"./app/components/ProductResourcePicker/translations/en.json":function(e,n){e.exports={ProductResourcePicker:{backAction:"Back to {previousFilter}",previousFilterTopLevel:"browse",productFilters:{allProducts:"All products",popularProducts:"Popular products",collections:"Collections",productTypes:"Product types",tags:"Tags",vendors:"Vendors"},FilterList:{accessibilityLabel:"Browse by"},searchQueryFieldLabel:{collections:"Find collections...",productTypes:"Find product types...",tags:"Find tags...",vendors:"Find vendors..."},noResultsFound:"No results Found.",loadingMoreCollections:"Loading more collections",variant:{one:"variant",other:"variants"},selectedVariantsCount:"{count} {variant} selected",selectedProducts:"Selected products"}}},"./app/components/ProductStatusBadge/ProductStatusBadge.tsx":function(e,n,t){"use strict";t.d(n,"a",(function(){return m}));var a=t("./app/components/ProductStatusBadge/translations/en.json"),i=t.n(a),s=t("./node_modules/react/index.js"),o=t.n(s),r=t("./node_modules/@shopify/polaris/dist/esnext/components/Badge/Badge.tsx.esnext"),l=t("./node_modules/@shopify/react-i18n/build/esnext/hooks.esnext"),d=t("./app/types/graphql/core-types/ProductStatus.ts");const c={[d.a.Draft]:"draft",[d.a.Active]:"active",[d.a.Archived]:"archived"},u={[d.a.Draft]:"info",[d.a.Active]:"success",[d.a.Archived]:void 0};function m({productStatus:e}){const[n]=Object(l.a)({id:"ProductStatusBadge_6b11xj",fallback:i.a,translations(e){if(!(["cs","da","de","es","fi","fr","it","ja","ko","nb","nl","pl","pt-BR","pt-PT","sv","th","tr","vi","zh-CN","zh-TW"].indexOf(e)<0))return(async()=>{const n=await t("./app/components/ProductStatusBadge/translations lazy-once recursive ^\\.\\/.*\\.json$")(`./${e}.json`);return n&&n.default})()}}),a=n.translate(`ProductStatusBadge.${c[e]}`),s=u[e];return o.a.createElement(r.a,{status:s},a)}},"./app/components/ProductStatusBadge/translations lazy-once recursive ^\\.\\/.*\\.json$":function(e,n,t){var a={"./cs.json":"./app/components/ProductStatusBadge/translations/cs.json","./da.json":"./app/components/ProductStatusBadge/translations/da.json","./de.json":"./app/components/ProductStatusBadge/translations/de.json","./en.json":"./app/components/ProductStatusBadge/translations/en.json","./es.json":"./app/components/ProductStatusBadge/translations/es.json","./fi.json":"./app/components/ProductStatusBadge/translations/fi.json","./fr.json":"./app/components/ProductStatusBadge/translations/fr.json","./it.json":"./app/components/ProductStatusBadge/translations/it.json","./ja.json":"./app/components/ProductStatusBadge/translations/ja.json","./ko.json":"./app/components/ProductStatusBadge/translations/ko.json","./nb.json":"./app/components/ProductStatusBadge/translations/nb.json","./nl.json":"./app/components/ProductStatusBadge/translations/nl.json","./pl.json":"./app/components/ProductStatusBadge/translations/pl.json","./pt-BR.json":"./app/components/ProductStatusBadge/translations/pt-BR.json","./pt-PT.json":"./app/components/ProductStatusBadge/translations/pt-PT.json","./sv.json":"./app/components/ProductStatusBadge/translations/sv.json","./th.json":"./app/components/ProductStatusBadge/translations/th.json","./tr.json":"./app/components/ProductStatusBadge/translations/tr.json","./vi.json":"./app/components/ProductStatusBadge/translations/vi.json","./zh-CN.json":"./app/components/ProductStatusBadge/translations/zh-CN.json","./zh-TW.json":"./app/components/ProductStatusBadge/translations/zh-TW.json"};function i(e){return s(e).then((function(e){return t.t(e,7)}))}function s(e){return t.e("ProductStatusBadge_6b11xj-i18n").then((function(){if(!t.o(a,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return a[e]}))}i.keys=function(){return Object.keys(a)},i.resolve=s,i.id="./app/components/ProductStatusBadge/translations lazy-once recursive ^\\.\\/.*\\.json$",e.exports=i},"./app/components/ProductStatusBadge/translations/en.json":function(e,n){e.exports={ProductStatusBadge:{draft:"Draft",active:"Active",archived:"Archived"}}},"./app/components/ResourcePicker/helpers.ts":function(e,n,t){"use strict";t.d(n,"a",(function(){return m}));var a,i,s=t("./node_modules/lodash-decorators/index.js");var o,r,l,d,c,u;const m=new(a=Object(s.memoize)(((e,n={})=>`${e}${n?Object.keys(n).map((e=>`${e}:${n[e]}`)):n}`)),o=(i=class{generateGraphqlSearchQuery(e="",n={}){let t=e||"";t=` ${t}`;const a=n||{};return Object.keys(a).forEach((e=>{t.includes(` ${e}:`)||"string"!=typeof a[e]||(t+=` ${e}:${a[e]}`)})),t.trim()}}).prototype,r="generateGraphqlSearchQuery",l=[a],d=Object.getOwnPropertyDescriptor(i.prototype,"generateGraphqlSearchQuery"),c=i.prototype,u={},Object.keys(d).forEach((function(e){u[e]=d[e]})),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=l.slice().reverse().reduce((function(e,n){return n(o,r,e)||e}),u),c&&void 0!==u.initializer&&(u.value=u.initializer?u.initializer.call(c):void 0,u.initializer=void 0),void 0===u.initializer&&(Object.defineProperty(o,r,u),u=null),i)},"./app/components/VariantResourceItem/VariantResourceItem.tsx":function(e,n,t){"use strict";t.d(n,"a",(function(){return h}));var a=t("./node_modules/react/index.js"),i=t.n(a),s=t("./node_modules/@shopify/polaris/dist/esnext/components/Thumbnail/Thumbnail.tsx.esnext"),o=t("./node_modules/@shopify/polaris/dist/esnext/components/Stack/Stack.tsx.esnext"),r=t("./node_modules/@shopify/polaris/dist/esnext/components/Badge/Badge.tsx.esnext"),l=t("./packages/@shopify/polaris-next/components/PlaceholderIcon/index.tsx"),d=t("./node_modules/@shopify/react-i18n/build/esnext/hooks.esnext"),c="_3wlTQ",u="_3-oW9",m="_1rVwP",p="nF_DC",v="_1U2QV",k="_2wOrR",f="_2DYLz",g="_2nja9",y="_17AyA",b="_1IB9x";function h({variant:{displayName:e,image:n,inventoryQuantity:t,price:a,selectedOptions:h,inventoryItem:N},hideImage:S,hideInventoryQuantity:P,showUnavailableBadge:j,selectedVariantText:x}){var _;const[F]=Object(d.a)(),O=!S&&(n?i.a.createElement(s.a,{source:n.transformedSrc,alt:n.altText||e,size:"small"}):i.a.createElement(l.a,{size:"small"})),I=h.map((({value:e})=>i.a.createElement("span",{key:e,className:k},e))),E=N?null===(_=N.inventoryLevel)||void 0===_?void 0:_.available:t,T=!P&&null!=E&&i.a.createElement("span",{className:f,testID:"VariantInventoryQuantity"},F.translate("Admin.ProductResourcePicker.inventoryQuantity",{inventoryQuantity:E})),V=j?i.a.createElement(o.a,{alignment:"center"},I,i.a.createElement(r.a,null,F.translate("Admin.ResourcePicker.unavailable"))):I,B=x?i.a.createElement("div",{className:b},i.a.createElement("p",null,x)):null;return i.a.createElement("div",{className:c},i.a.createElement("div",{className:u},O),i.a.createElement("div",{className:y},i.a.createElement("div",{className:m},i.a.createElement("div",{className:p,testID:"VariantOptions"},V),i.a.createElement("div",{className:v},T,i.a.createElement("span",{className:g,testID:"VariantPrice"},F.formatCurrency(Number(a))))),B))}},"./app/types/graphql/core-types/ProductSortKeys.ts":function(e,n,t){"use strict";let a;t.d(n,"a",(function(){return a})),function(e){e.Title="TITLE",e.ProductType="PRODUCT_TYPE",e.Vendor="VENDOR",e.InventoryTotal="INVENTORY_TOTAL",e.UpdatedAt="UPDATED_AT",e.CreatedAt="CREATED_AT",e.PublishedAt="PUBLISHED_AT",e.BestSelling="BEST_SELLING",e.Id="ID",e.Relevance="RELEVANCE"}(a||(a={}))},"./app/types/graphql/core-types/ProductStatus.ts":function(e,n,t){"use strict";let a;t.d(n,"a",(function(){return a})),function(e){e.Active="ACTIVE",e.Archived="ARCHIVED",e.Draft="DRAFT"}(a||(a={}))},"./app/types/graphql/core-types/ProductVariantInventoryManagement.ts":function(e,n,t){"use strict";let a;t.d(n,"a",(function(){return a})),function(e){e.Shopify="SHOPIFY",e.NotManaged="NOT_MANAGED",e.FulfillmentService="FULFILLMENT_SERVICE"}(a||(a={}))},"./app/utilities/media/utilities.ts":function(e,n,t){"use strict";function a({richMediaEnabled:e,featuredImage:n,featuredMedia:t}){var a;if(e&&t&&null!==(a=t.preview)&&void 0!==a&&a.image){return{transformedSrc:t.preview.image.transformedSrc,altText:t.alt}}return!e&&n?{transformedSrc:n.transformedSrc,altText:n.altText}:{transformedSrc:null,altText:null}}t.d(n,"a",(function(){return a}))},"./packages/@shopify/polaris-next/components/ComboBox/utilities/combo-box/context.tsx":function(e,n,t){"use strict";t.d(n,"b",(function(){return s})),t.d(n,"a",(function(){return o}));var a=t("./node_modules/react/index.js"),i=t.n(a);const s=i.a.createContext(void 0),o=i.a.createContext({})},"./packages/@shopify/polaris-next/components/ComboBox/utilities/combo-box/hooks.tsx":function(e,n,t){"use strict";t.d(n,"b",(function(){return s})),t.d(n,"a",(function(){return o}));var a=t("./node_modules/react/index.js"),i=t("./packages/@shopify/polaris-next/components/ComboBox/utilities/combo-box/context.tsx");function s(){const e=Object(a.useContext)(i.b);if(!e)throw new Error("No ComboBox was provided. Your component must be wrapped in a <ComboBox> component.");return e}function o(){return Object(a.useContext)(i.a)}},"./packages/@shopify/polaris-next/components/ListBox/ListBox.tsx":function(e,n,t){"use strict";t.d(n,"a",(function(){return Z}));var a=t("./packages/@shopify/polaris-next/components/ListBox/translations/en.json"),i=t.n(a),s=t("./node_modules/react/index.js"),o=t.n(s),r=t("./node_modules/@shopify/react-hooks/build/esnext/hooks/toggle.esnext"),l=t("./node_modules/classnames/index.js"),d=t.n(l),c=t("./node_modules/@shopify/javascript-utilities/other.js"),u=t("./node_modules/@shopify/polaris/dist/esnext/components/KeypressListener/KeypressListener.tsx.esnext"),m=t("./node_modules/@shopify/polaris/dist/esnext/types.ts.esnext"),p=t("./node_modules/@shopify/polaris/dist/esnext/components/VisuallyHidden/VisuallyHidden.tsx.esnext"),v=t("./node_modules/@shopify/react-i18n/build/esnext/hooks.esnext"),k=t("./node_modules/lodash/debounce.js"),f=t.n(k),g=t("./packages/@shopify/polaris-next/components/ComboBox/utilities/combo-box/hooks.tsx");const y=o.a.createContext(void 0),b={"data-polaris-list-box-section-item":!0},h="[data-polaris-list-box-section-item]",N="data-polaris-list-box-within-section-item";function S(){const e=Object(s.useContext)(y);if(!e)throw new Error("No ListBox was provided. ListBox components must be wrapped in a Listbox");return e}const P=Object(s.createContext)(null);function j(){return Object(s.useContext)(P)}var x="_1lVv9",_="DLY1J",F="_2AmLB",O="SNvLs";const I=Object(s.memo)((function({children:e,selected:n,disabled:t}){const a=d()(x,n&&F,t&&_);return o.a.createElement("div",{className:a},o.a.createElement("div",{className:O},e))}));var E="_3ZPUO",T="_25xRu";function V(){return(V=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}const B=Object(c.createUniqueIDFactory)("ListBoxOption"),L=Object(s.memo)((function({value:e,children:n,selected:t,disabled:a=!1,accessibilityLabel:i,divider:r}){const{onOptionSelect:l}=S(),c=Object(s.useRef)(null),{current:u}=Object(s.useRef)(B()),m=j(),p=Boolean(m),v=Object(s.useCallback)((n=>{n.preventDefault(),l&&c.current&&l({domId:u,value:e,element:c.current,disabled:a})}),[u,l,e,a]),k="string"==typeof n?o.a.createElement(I,{selected:t,disabled:a},n):n,f={[N]:p};return o.a.createElement("li",V({},f,{"data-within-section":p,"data-listbox-option-value":e,className:d()(E,r&&T),id:u,ref:c,tabIndex:-1,onMouseDown:e=>{e.preventDefault()},"aria-disabled":a,onClick:a?void 0:v,role:"option","aria-label":i,"aria-selected":t,"data-listbox-option":!0}),k)}));var C=t("./node_modules/@shopify/polaris/dist/esnext/components/Spinner/Spinner.tsx.esnext"),R="_2kRSC",A="_oAfU";const D=Object(s.memo)((function({children:e,accessibilityLabel:n}){const[t]=Object(v.a)(),{setLoading:a}=S(),i=n||t.translate("ListBox.Loading.label");return Object(s.useEffect)((()=>(a(i),()=>{a(void 0)})),[i,a]),o.a.createElement("li",{className:R},e||o.a.createElement("div",{className:A},o.a.createElement(C.a,{size:"small",accessibilityLabel:i})))}));var w="_2XQyd",Q="_3v-4U";function $(){return($=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}const M=Object(c.createUniqueIDFactory)("ListBox");var q="_3impZ";var z=t("./node_modules/@shopify/polaris/dist/esnext/components/Icon/Icon.tsx.esnext"),U=t("./node_modules/@shopify/polaris-icons/dist/icons/CirclePlusMinor.svg.mjs"),W="_1-wVF",K="_35G61";var G="cUl__";const H="[data-polaris-scrollable]",J=Object(c.createUniqueIDFactory)("ListBox"),Y="data-focused";function Z({children:e,enableKeyboardControl:n,accessibilityLabel:a,onSelect:l}){const[,c]=Object(v.a)({id:"ListBox_1ukrpfx",fallback:i.a,translations(e){if(!(["cs","da","de","es","fi","fr","it","ja","ko","nb","nl","pl","pt-BR","pt-PT","sv","th","tr","vi","zh-CN","zh-TW"].indexOf(e)<0))return(async()=>{const n=await t("./packages/@shopify/polaris-next/components/ListBox/translations lazy-once recursive ^\\.\\/.*\\.json$")(`./${e}.json`);return n&&n.default})()}}),k=d()(G),{value:b,setTrue:N,setFalse:S}=Object(r.a)(Boolean(n)),{current:P}=Object(s.useRef)(J()),j=Object(s.useRef)(null),x=Object(s.useRef)(null),[_,F]=Object(s.useState)(),[O,I]=Object(s.useState)(),{setActiveOptionId:E,setListBoxId:T,listBoxId:V,textFieldLabelId:B,onOptionSelected:L,onKeyToBottom:C,textFieldFocused:R}=Object(g.a)(),A=Boolean(E);Object(s.useEffect)((()=>{T&&!V&&T(P)}),[T,V,P]),Object(s.useEffect)((()=>{O&&E&&E(O.domId)}),[O,E]);const D=Object(s.useCallback)(f()(((e,n)=>{if(j.current){const{element:t}=e;!function(e,n){const t=e.offsetTop,a=t+e.clientHeight,i=n.scrollTop,s=i+n.clientHeight;let o;t<i?o=!0:a>s&&(o=!1),"boolean"==typeof o&&requestAnimationFrame((()=>{e&&e.scrollIntoView(o)}))}(n&&function(e,n){let t=e.parentElement;for(;t;){if(t.matches(n))return t;t=t.parentElement}return t}(t,h)||t,j.current)}}),15),[]),w=Object(s.useCallback)((e=>{I((n=>{if(n&&n.element.removeAttribute(Y),e){if(e.element.setAttribute(Y,"true"),j.current){const n=0===z().findIndex((n=>n.id===e.element.id));D(e,n)}return e}}))}),[D]);Object(s.useEffect)((()=>{x.current&&(j.current=x.current.closest(H))}),[]),Object(s.useEffect)((()=>{n&&!b&&N()}),[n,b,N]);const Q=Object(s.useCallback)((e=>{w(e),L&&L(),l&&l(e.value)}),[w,l,L]),$=Object(s.useMemo)((()=>({onOptionSelect:Q,setLoading:F})),[Q,F]);function M(e,n){n.preventDefault();const t=function(e){const n="up"===e,t=z();let a=null==O?void 0:O.element,i=-1;for(;i++<t.length;){var s;let e;if(a){var o;const i=null===(o=a)||void 0===o?void 0:o.id,s=t.findIndex((e=>e.id===i));let r=n?-1:1;0===s&&n?r=t.length-1:s!==t.length-1||n||(r=-(t.length-1)),e=s+r,a=t[e]}else e=n?t.length-1:0,a=t[e];if("true"!==(null===(s=a)||void 0===s?void 0:s.getAttribute("aria-disabled")))return e===t.length-1&&C&&C(),a}return a}(e);if(!t)return;const a={domId:t.id,value:t.getAttribute("data-listbox-option-value")||"",element:t,disabled:"true"===t.getAttribute("aria-disabled")};w(a)}const q=b||R?o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{keyEvent:"keydown",keyCode:m.a.DownArrow,handler:function(e){M("down",e)}}),o.a.createElement(u.a,{keyEvent:"keydown",keyCode:m.a.UpArrow,handler:function(e){M("up",e)}}),o.a.createElement(u.a,{keyEvent:"keydown",keyCode:m.a.Enter,handler:function(e){e.preventDefault(),e.stopPropagation(),O&&Q(O)}})):null;return o.a.createElement(c,null,q,o.a.createElement(p.a,null,o.a.createElement("div",{"aria-live":"polite"},_||null)),o.a.createElement(y.Provider,{value:$},e?o.a.createElement("ul",{tabIndex:0,role:"listbox",className:k,"aria-label":A?void 0:a,"aria-labelledby":B,"aria-busy":Boolean(_),"aria-activedescendant":O&&O.domId,id:P,onFocus:A?void 0:function(){n||N()},onBlur:A?void 0:function(e){e.stopPropagation(),b&&w(),n||S()},ref:x},e):null));function z(){var e;return[...new Set(null===(e=x.current)||void 0===e?void 0:e.querySelectorAll("[data-listbox-option]"))]||!1}}Z.Option=L,Z.TextOption=I,Z.Loading=D,Z.Section=function({children:e,divider:n=!0,title:t}){const{current:a}=Object(s.useRef)(M());return o.a.createElement(P.Provider,{value:a},o.a.createElement("li",$({role:"presentation"},b),t,o.a.createElement("ul",{role:"group","aria-labelledby":a,className:d()(w,!n&&Q)},e)))},Z.Header=function({children:e}){const n=j()||"",t="string"==typeof e?o.a.createElement("div",{className:q},e):e;return o.a.createElement("div",{"aria-hidden":!0,id:n},t)},Z.Action=function(e){const{selected:n,disabled:t,children:a,icon:i}=e;return o.a.createElement(L,e,o.a.createElement(I,{selected:n,disabled:t},o.a.createElement("div",{className:W},o.a.createElement("div",{className:K},o.a.createElement(z.a,{color:"subdued",source:i||U.a})),a)))}},"./packages/@shopify/polaris-next/components/ListBox/translations lazy-once recursive ^\\.\\/.*\\.json$":function(e,n,t){var a={"./cs.json":"./packages/@shopify/polaris-next/components/ListBox/translations/cs.json","./da.json":"./packages/@shopify/polaris-next/components/ListBox/translations/da.json","./de.json":"./packages/@shopify/polaris-next/components/ListBox/translations/de.json","./en.json":"./packages/@shopify/polaris-next/components/ListBox/translations/en.json","./es.json":"./packages/@shopify/polaris-next/components/ListBox/translations/es.json","./fi.json":"./packages/@shopify/polaris-next/components/ListBox/translations/fi.json","./fr.json":"./packages/@shopify/polaris-next/components/ListBox/translations/fr.json","./it.json":"./packages/@shopify/polaris-next/components/ListBox/translations/it.json","./ja.json":"./packages/@shopify/polaris-next/components/ListBox/translations/ja.json","./ko.json":"./packages/@shopify/polaris-next/components/ListBox/translations/ko.json","./nb.json":"./packages/@shopify/polaris-next/components/ListBox/translations/nb.json","./nl.json":"./packages/@shopify/polaris-next/components/ListBox/translations/nl.json","./pl.json":"./packages/@shopify/polaris-next/components/ListBox/translations/pl.json","./pt-BR.json":"./packages/@shopify/polaris-next/components/ListBox/translations/pt-BR.json","./pt-PT.json":"./packages/@shopify/polaris-next/components/ListBox/translations/pt-PT.json","./sv.json":"./packages/@shopify/polaris-next/components/ListBox/translations/sv.json","./th.json":"./packages/@shopify/polaris-next/components/ListBox/translations/th.json","./tr.json":"./packages/@shopify/polaris-next/components/ListBox/translations/tr.json","./vi.json":"./packages/@shopify/polaris-next/components/ListBox/translations/vi.json","./zh-CN.json":"./packages/@shopify/polaris-next/components/ListBox/translations/zh-CN.json","./zh-TW.json":"./packages/@shopify/polaris-next/components/ListBox/translations/zh-TW.json"};function i(e){return s(e).then((function(e){return t.t(e,7)}))}function s(e){return t.e("ListBox_1ukrpfx-i18n").then((function(){if(!t.o(a,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return a[e]}))}i.keys=function(){return Object.keys(a)},i.resolve=s,i.id="./packages/@shopify/polaris-next/components/ListBox/translations lazy-once recursive ^\\.\\/.*\\.json$",e.exports=i},"./packages/@shopify/polaris-next/components/ListBox/translations/en.json":function(e,n){e.exports={ListBox:{Loading:{label:"items are loading"}}}},"./packages/@shopify/polaris-next/components/PlaceholderIcon/index.tsx":function(e,n,t){"use strict";var a=t("./node_modules/react/index.js"),i=t.n(a),s=t("./node_modules/classnames/index.js"),o=t.n(s),r=t("./node_modules/@shopify/css-utilities/build/esnext/variation-name.esnext"),l=t("./node_modules/@shopify/polaris-icons/dist/icons/ImageMajor.svg.mjs"),d={PlaceholderIcon:"_3iv36",DefaultIconSvg:"_3vR36",sizeSmall:"_2sDun",sizeMedium:"_39-84",sizeLarge:"_4Ra_i",iconSizeSmall:"_1Kb9y",iconSizeMedium:"_3DlKx",iconSizeLarge:"_2hXr9"};var c=function({size:e="medium",iconSize:n="medium",alt:t}){const a=o()(d.PlaceholderIcon,d[Object(r.a)("size",e)]),s=o()(d.DefaultIconSvg,d[Object(r.a)("iconSize",n)]);return i.a.createElement("div",{className:a,"aria-label":t},i.a.createElement(l.a,{className:s}))};n.a=c}}]);